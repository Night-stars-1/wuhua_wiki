import{a0 as J}from"./index-DIGAjgPQ.js";var W=Symbol("cache-parser");function D(t,e){(e==null||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function b(t){return(typeof t=="string"||typeof t=="number")&&(t=Number(t))>=0&&t<1/0}function w(t){return t===!0||typeof t=="number"||typeof t=="string"&&t!=="false"}var I=Number;function P(t){var e=Object.defineProperty({},W,{enumerable:!1,value:1});if(!t||typeof t!="string")return e;var a=function(s){for(var o,g={},u=function(m,X){var v=typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(v)return(v=v.call(m)).next.bind(v);if(Array.isArray(m)||(v=function(p,M){if(p){if(typeof p=="string")return D(p,M);var S=Object.prototype.toString.call(p).slice(8,-1);return S==="Object"&&p.constructor&&(S=p.constructor.name),S==="Map"||S==="Set"?Array.from(p):S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S)?D(p,M):void 0}}(m))){v&&(m=v);var x=0;return function(){return x>=m.length?{done:!0}:{done:!1,value:m[x++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}(s.toLowerCase().replace(/\s+/g,"").split(","));!(o=u()).done;){var y,f=o.value.split("=",2);g[f[0]]=(y=f[1])==null||y}return g}(t),i=a["max-age"],r=a["max-stale"],n=a["min-fresh"],c=a["s-maxage"],d=a["stale-if-error"],l=a["stale-while-revalidate"];return w(a.immutable)&&(e.immutable=!0),b(i)&&(e.maxAge=I(i)),b(r)&&(e.maxStale=I(r)),b(n)&&(e.minFresh=I(n)),w(a["must-revalidate"])&&(e.mustRevalidate=!0),w(a["must-understand"])&&(e.mustUnderstand=!0),w(a["no-cache"])&&(e.noCache=!0),w(a["no-store"])&&(e.noStore=!0),w(a["no-transform"])&&(e.noTransform=!0),w(a["only-if-cached"])&&(e.onlyIfCached=!0),w(a.private)&&(e.private=!0),w(a["proxy-revalidate"])&&(e.proxyRevalidate=!0),w(a.public)&&(e.public=!0),b(c)&&(e.sMaxAge=I(c)),b(d)&&(e.staleIfError=I(d)),b(l)&&(e.staleWhileRevalidate=I(l)),e}var K=Symbol();function L(){var t,e,a=new Promise(function(i,r){t=i,e=r});return a.resolve=t,a.reject=e,a[K]=1,a}function H(t,e){return t>e?1:-1}function j(t,e){var a=5381;if(typeof t=="object"&&t!==null&&(t.toString===Object.prototype.toString||t.toString===Array.prototype.toString)){e||(e=new WeakSet);for(var i=Object.keys(t).sort(H),r=0;r<i.length;r++){var n=i[r],c=t[n];if(a=33*a^j(n,e),typeof c=="object"&&c!==null&&(t.toString===Object.prototype.toString||t.toString===Array.prototype.toString)){if(e.has(c))continue;e.add(c)}a=33*a^j(c,e)}return 33*a^j(t.constructor,e)}var d=typeof t;try{t instanceof Date?d+=t.getTime():d+=String(t)}catch{d+=String(Object.assign({},t))}for(var l=0;l<d.length;l++)a=33*a^d.charCodeAt(l);return a}/*!
 * Axios Cache Interceptor 1.5.3
 * (c) 2021-present Arthur Fiorette & Contributors
 * Released under the MIT License.
 */const h=Object.freeze({IfModifiedSince:"if-modified-since",LastModified:"last-modified",IfNoneMatch:"if-none-match",CacheControl:"cache-control",Pragma:"pragma",ETag:"etag",Expires:"expires",Age:"age",XAxiosCacheEtag:"x-axios-cache-etag",XAxiosCacheLastModified:"x-axios-cache-last-modified",XAxiosCacheStaleIfError:"x-axios-cache-stale-if-error"}),$=t=>{if(!t)return"not enough headers";const e=t[h.CacheControl];if(e){const{noCache:i,noStore:r,maxAge:n,maxStale:c,immutable:d,staleWhileRevalidate:l}=P(String(e));if(i||r)return"dont cache";if(d)return{cache:1e3*60*60*24*365};if(n!==void 0){const s=t[h.Age];return{cache:s?(n-Number(s))*1e3:n*1e3,stale:c!==void 0?c*1e3:l!==void 0?l*1e3:void 0}}}const a=t[h.Expires];if(a){const i=Date.parse(String(a))-Date.now();return i>=0?{cache:i}:"dont cache"}return"not enough headers"};function C(){return C=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},C.apply(this,arguments)}function q(t){return t?e=>t(e)||e===304:e=>e>=200&&e<300||e===304}function O(t="get",e=[]){return t=t.toLowerCase(),e.some(a=>a===t)}function F(t,e){e.headers||(e.headers={});const{etag:a,modifiedSince:i}=e.cache;if(a){var r;const n=a===!0?(r=t.data)==null?void 0:r.headers[h.ETag]:a;n&&(e.headers[h.IfNoneMatch]=n)}i&&(e.headers[h.IfModifiedSince]=i===!0?t.data.headers[h.LastModified]||new Date(t.createdAt).toUTCString():i.toUTCString())}function G(t,e){return t.status===304&&e?(t.cached=!0,t.data=e.data,t.status=e.status,t.statusText=e.statusText,t.headers=C({},e.headers,t.headers),e):{data:t.data,status:t.status,statusText:t.statusText,headers:t.headers}}function V(t){const e=async a=>{if(a.id=t.generateKey(a),a.cache===!1)return a;if(a.cache=C({},t.defaults.cache,a.cache),typeof a.cache.cachePredicate=="object"&&a.cache.cachePredicate.ignoreUrls&&a.url){for(const m of a.cache.cachePredicate.ignoreUrls)if(m instanceof RegExp?(m.lastIndex=0,m.test(a.url)):a.url.includes(m))return a}if(a.cache.cacheTakeover){var i,r,n,c,d,l,s,o,g;(n=(i=a.headers)[r=h.CacheControl])!=null||(i[r]="no-cache"),(l=(c=a.headers)[d=h.Pragma])!=null||(c[d]="no-cache"),(g=(s=a.headers)[o=h.Expires])!=null||(s[o]="0")}if(!O(a.method,a.cache.methods))return a;let u=await t.storage.get(a.id,a);const y=a.cache.override;t:if(u.state==="empty"||u.state==="stale"||u.state==="must-revalidate"||y){if(t.waiting[a.id]&&!y&&(u=await t.storage.get(a.id,a),u.state!=="empty"&&u.state!=="must-revalidate"))break t;return t.waiting[a.id]=L(),t.waiting[a.id].catch(()=>{}),await t.storage.set(a.id,{state:"loading",previous:y?u.data?"stale":"empty":u.state,data:u.data,createdAt:y&&!u.createdAt?Date.now():u.createdAt},a),(u.state==="stale"||u.state==="must-revalidate")&&F(u,a),a.validateStatus=q(a.validateStatus),(u.state==="stale"||u.data&&u.state!=="must-revalidate")&&await(a.cache.hydrate==null?void 0:a.cache.hydrate(u)),a}let f;if(u.state==="loading"){const m=t.waiting[a.id];if(!m)return u.data&&await(a.cache.hydrate==null?void 0:a.cache.hydrate(u)),a;try{f=await m}catch{return u.data&&await(a.cache.hydrate==null?void 0:a.cache.hydrate(u)),e(a)}}else f=u.data;return a.transformResponse=void 0,a.adapter=function(){return Promise.resolve({config:a,data:f.data,headers:f.headers,status:f.status,statusText:f.statusText,cached:!0,id:a.id})},a};return{onFulfilled:e,apply:()=>t.interceptors.request.use(e)}}async function U(t,e){if(typeof e=="function")return e(t);const{statusCheck:a,responseMatch:i,containsHeaders:r}=e;if(a&&!await a(t.status)||i&&!await i(t))return!1;if(r)for(const[c,d]of Object.entries(r)){var n;if(!await d((n=t.headers[c.toLowerCase()])!=null?n:t.headers[c]))return!1}return!0}async function z(t,e,a){if(typeof a=="function")return a(e);for(const[i,r]of Object.entries(a)){if(r==="delete"){await t.remove(i,e.config);continue}const n=await t.get(i,e.config);if(n.state==="loading")continue;const c=await r(n,e);if(c==="delete"){await t.remove(i,e.config);continue}c!=="ignore"&&await t.set(i,c,e.config)}}function _(t){const e=async(r,n)=>{var c;await t.storage.remove(r,n),(c=t.waiting[r])==null||c.reject(),delete t.waiting[r]},a=async r=>{var n;if(!(r!=null&&r.config))throw r;r.id=r.config.id,(n=r.cached)!=null||(r.cached=!1);const c=r.config,d=c.cache;if(r.cached)return r;if(!d)return r.cached=!1,r;if(d.update&&await z(t.storage,r,d.update),!O(c.method,d.methods))return r;const l=await t.storage.get(r.id,c);if(l.state!=="loading")return r;if(!l.data&&!await U(r,d.cachePredicate))return await e(r.id,c),r;for(const f of Object.keys(r.headers))f.startsWith("x-axios-cache")&&delete r.headers[f];d.etag&&d.etag!==!0&&(r.headers[h.XAxiosCacheEtag]=d.etag),d.modifiedSince&&(r.headers[h.XAxiosCacheLastModified]=d.modifiedSince===!0?"use-cache-timestamp":d.modifiedSince.toUTCString());let s=d.ttl||-1,o;if(d.interpretHeader){const f=t.headerInterpreter(r.headers);if(f==="dont cache")return await e(r.id,c),r;f!=="not enough headers"&&(typeof f=="number"?s=f:(s=f.cache,o=f.stale))}const g=G(r,l.data);typeof s=="function"&&(s=await s(r)),d.staleIfError&&(r.headers[h.XAxiosCacheStaleIfError]=String(s));const u={state:"cached",ttl:s,staleTtl:o,createdAt:Date.now(),data:g},y=t.waiting[r.id];return y&&(y.resolve(u.data),delete t.waiting[r.id]),await t.storage.set(r.id,u,c),r},i=async r=>{if(!r.isAxiosError||!r.config)throw r;const n=r.config,c=n.id,d=n.cache,l=r.response;if(!d||!c)throw r;if(!O(n.method,d.methods))throw await e(c,n),r;const s=await t.storage.get(c,n);if(s.state!=="loading"||s.previous!=="stale")throw await e(c,n),r;if(d.staleIfError){const g=String(l==null?void 0:l.headers[h.CacheControl]),u=g&&P(g).staleIfError,y=typeof d.staleIfError=="function"?await d.staleIfError(l,s,r):d.staleIfError===!0&&u?u*1e3:d.staleIfError;if(y===!0||typeof y=="number"&&s.createdAt+y>Date.now()){var o;return(o=t.waiting[c])==null||o.resolve(s.data),delete t.waiting[c],await t.storage.set(c,{state:"stale",createdAt:Date.now(),data:s.data},n),{cached:!0,config:n,id:c,data:s.data.data,headers:s.data.headers,status:s.data.status,statusText:s.data.statusText}}}throw await e(c,n),r};return{onFulfilled:a,onRejected:i,apply:()=>t.interceptors.response.use(a,i)}}const B=t=>!!t&&!!t["is-storage"];function k(t){const e=t.data.headers;return h.ETag in e||h.LastModified in e||h.XAxiosCacheEtag in e||h.XAxiosCacheLastModified in e}function Q(t){return String(t.data.headers[h.CacheControl]).includes("must-revalidate")}function T(t){return k(t)?!0:t.state==="cached"&&t.staleTtl!==void 0&&Math.abs(Date.now()-(t.createdAt+t.ttl))<=t.staleTtl}function E(t){return t.ttl!==void 0&&t.createdAt+t.ttl<=Date.now()}function R({set:t,find:e,remove:a}){return{"is-storage":1,set:t,remove:a,get:async(i,r)=>{let n=await e(i,r);if(!n)return{state:"empty"};if(n.state==="empty"||n.state==="loading"||n.state==="must-revalidate")return n;if(n.state==="cached"){if(!E(n))return n;if(!T(n))return await a(i,r),{state:"empty"};if(n={state:"stale",createdAt:n.createdAt,data:n.data,ttl:n.staleTtl!==void 0?n.staleTtl+n.ttl:void 0},await t(i,n,r),Q(n))return C({},n,{state:"must-revalidate"})}return!E(n)||k(n)?n:(await a(i,r),{state:"empty"})}}}function Y(t=!1,e=!1,a=!1){const i=R({set:(r,n)=>{if(a){let c=Object.keys(i.data);if(c.length>=a)for(i.cleanup(),c=Object.keys(i.data);c.length>=a;)delete i.data[c.shift()]}i.data[r]=t==="double"?typeof structuredClone=="function"?structuredClone(n):JSON.parse(JSON.stringify(n)):n},remove:r=>{delete i.data[r]},find:r=>{const n=i.data[r];return t&&n!==void 0?typeof structuredClone=="function"?structuredClone(n):JSON.parse(JSON.stringify(n)):n}});return i.data=Object.create(null),i.cleanup=()=>{const r=Object.keys(i.data);let n=-1,c,d;for(;++n<r.length;){if(d=r[n],c=i.data[d],c.state==="empty"){i.remove(d);continue}c.state==="cached"&&E(c)&&!T(c)&&i.remove(d)}},e&&(i.cleaner=setInterval(i.cleanup,e)),i}const N=/^\/|\/$/g;function Z(t){return e=>{if(e.id)return e.id;const a=t(e);return typeof a=="string"||typeof a=="number"?`${a}`:`${j(a)}`}}const tt=Z(({baseURL:t,url:e,method:a,params:i,data:r})=>(t!==void 0?t=t.replace(N,""):t="",e!==void 0?e=e.replace(N,""):e="",a!==void 0?a=a.toLowerCase():a="get",{url:t+(t&&e?"/":"")+e,params:i,method:a,data:r}));function et(t,e={}){var a,i,r,n,c,d,l,s;const o=t;if(o.defaults.cache)throw new Error("setupCache() should be called only once");if(o.storage=e.storage||Y(),!B(o.storage))throw new Error("Use buildStorage() function");return o.waiting=e.waiting||{},o.generateKey=e.generateKey||tt,o.headerInterpreter=e.headerInterpreter||$,o.requestInterceptor=e.requestInterceptor||V(o),o.responseInterceptor=e.responseInterceptor||_(o),o.debug=e.debug||function(){},o.defaults.cache={update:e.update||{},ttl:(a=e.ttl)!=null?a:1e3*60*5,methods:e.methods||["get","head"],cachePredicate:e.cachePredicate||{statusCheck:g=>[200,203,300,301,302,404,405,410,414,501].includes(g)},etag:(i=e.etag)!=null?i:!0,modifiedSince:(r=e.modifiedSince)!=null?r:e.etag===!1,interpretHeader:(n=e.interpretHeader)!=null?n:!0,cacheTakeover:(c=e.cacheTakeover)!=null?c:!0,staleIfError:(d=e.staleIfError)!=null?d:!0,override:(l=e.override)!=null?l:!1,hydrate:(s=e.hydrate)!=null?s:void 0},o.requestInterceptor.apply(),o.responseInterceptor.apply(),o}function at(t,e="axios-cache-"){return R({find:a=>{const i=t.getItem(e+a);return i?JSON.parse(i):void 0},remove:a=>{t.removeItem(e+a)},set:(a,i)=>{const r=()=>t.setItem(e+a,JSON.stringify(i));try{return r()}catch{const c=Object.entries(t).filter(d=>d[0].startsWith(e)).map(d=>[d[0],JSON.parse(d[1])]);for(const d of c)d[1].state==="cached"&&E(d[1])&&!T(d[1])&&t.removeItem(d[0]);try{return r()}catch{const l=c.sort((s,o)=>(s[1].createdAt||0)-(o[1].createdAt||0));for(const s of l){t.removeItem(s[0]);try{return r()}catch{}}}t.removeItem(e+a)}}})}const rt=J.create(),A=et(rt,{storage:at(localStorage,"axios-cache:"),ttl:1e3*60*5});async function it(t){return(await A.get("charinfo/weapon.json")).data[t]}async function ct(t){return(await A.get(`additionals/${t}.json`)).data}async function dt(t){return(await A.get("charinfo/id2name.json")).data[t]}async function st(t){return(await A.get("charinfo/name2id.json")).data[t]}async function ut(t){return(await A.get("charinfo/style.json")).data[t]}export{ct as a,A as b,ut as c,it as g,dt as i,st as n};
